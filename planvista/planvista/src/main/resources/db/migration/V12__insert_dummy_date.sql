-- ダミーデータ投入用マイグレーション

-- タスクマスタにダミーデータを追加（user_id = 1）
INSERT INTO tasks (task_name, user_id) VALUES 
('プロジェクト企画', 1),
('コードレビュー', 1),
('顧客対応', 1),
('システム設計', 1),
('テスト作業', 1),
('調査・リサーチ', 1),
('チームミーティング', 1),
('休憩', 1)
ON DUPLICATE KEY UPDATE task_name = task_name;

-- スケジュールダミーデータ（手動登録のスケジュール）
-- V6でtask_idカラムが追加された後、V7でis_synced_from_google, google_event_idが追加される
-- V8でtask_timeがINT型に変更され、taskがNULL許可になる
INSERT INTO schedules (user_id, title, task, start_time, end_time, task_time, memo) VALUES
-- 今週のスケジュール
(1, '新規プロジェクトキックオフ', 'プロジェクト企画', '2025-11-17 10:00:00', '2025-11-17 11:30:00', 90, '新サービスの企画会議'),
(1, 'チーム定例ミーティング', 'チームミーティング', '2025-11-17 14:00:00', '2025-11-17 15:00:00', 60, '週次進捗確認'),
(1, 'データベース設計レビュー', 'システム設計', '2025-11-17 15:30:00', '2025-11-17 17:00:00', 90, 'PlanVistaのDB設計確認'),

(1, 'プルリクエストレビュー', 'コードレビュー', '2025-11-18 09:30:00', '2025-11-18 10:30:00', 60, 'チームメンバーのコード確認'),
(1, 'クライアント打ち合わせ', '顧客対応', '2025-11-18 11:00:00', '2025-11-18 12:00:00', 60, '要件ヒアリング'),
(1, 'ユニットテスト作成', 'テスト作業', '2025-11-18 13:30:00', '2025-11-18 15:30:00', 120, 'Repositoryレイヤーのテスト'),

(1, 'Spring Security調査', '調査・リサーチ', '2025-11-19 09:00:00', '2025-11-19 11:00:00', 120, '認証機能の実装方法調査'),
(1, 'プロジェクト仕様書作成', 'プロジェクト企画', '2025-11-19 13:00:00', '2025-11-19 16:00:00', 180, '詳細仕様のドキュメント化'),

-- 先週のスケジュール
(1, 'API設計会議', 'システム設計', '2025-11-11 10:00:00', '2025-11-11 12:00:00', 120, 'RESTful API設計'),
(1, 'コードレビュー', 'コードレビュー', '2025-11-11 14:00:00', '2025-11-11 15:00:00', 60, 'PDF出力機能のレビュー'),
(1, '週次ミーティング', 'チームミーティング', '2025-11-12 14:00:00', '2025-11-12 15:00:00', 60, '進捗報告'),
(1, '結合テスト', 'テスト作業', '2025-11-13 10:00:00', '2025-11-13 12:00:00', 120, 'Google Calendar連携テスト'),
(1, '顧客デモ', '顧客対応', '2025-11-14 15:00:00', '2025-11-14 16:00:00', 60, 'プロトタイプのデモンストレーション');

-- レコード（実績）ダミーデータ
INSERT INTO records (user_id, event_id, task_id, task_name, start_time, end_time, memo) VALUES
-- 今週の実績（予定より早く/遅く終わったケース）
(1, 1, 1, 'プロジェクト企画', '2025-11-17 10:00:00', '2025-11-17 11:45:00', '予定より15分長引いた。議論が活発だった'),
(1, 2, 7, 'チームミーティング', '2025-11-17 14:00:00', '2025-11-17 14:50:00', '予定より早く終了'),
(1, 3, 4, 'システム設計', '2025-11-17 15:30:00', '2025-11-17 17:15:00', 'インデックス設計に時間がかかった'),

(1, 4, 2, 'コードレビュー', '2025-11-18 09:30:00', '2025-11-18 10:45:00', 'リファクタリングが必要な箇所が多かった'),
(1, 5, 3, '顧客対応', '2025-11-18 11:00:00', '2025-11-18 12:10:00', '追加要件のヒアリング'),

-- 先週の実績
(1, 9, 4, 'システム設計', '2025-11-11 10:00:00', '2025-11-11 11:45:00', '予定より早く終了'),
(1, 10, 2, 'コードレビュー', '2025-11-11 14:00:00', '2025-11-11 15:15:00', '修正依頼が多かった'),
(1, 11, 7, 'チームミーティング', '2025-11-12 14:00:00', '2025-11-12 15:05:00', 'ほぼ予定通り'),
(1, 12, 5, 'テスト作業', '2025-11-13 10:00:00', '2025-11-13 12:30:00', 'バグ修正に時間がかかった'),
(1, 13, 3, '顧客対応', '2025-11-14 15:00:00', '2025-11-14 16:20:00', 'Q&Aセッションが長引いた'),

-- スケジュールに紐づかない実績（突発対応など）
(1, NULL, 3, '顧客対応', '2025-11-15 10:30:00', '2025-11-15 11:00:00', '緊急の問い合わせ対応'),
(1, NULL, 2, 'コードレビュー', '2025-11-15 14:00:00', '2025-11-15 14:30:00', '急遽依頼されたレビュー'),
(1, NULL, 8, '休憩', '2025-11-16 15:00:00', '2025-11-16 15:15:00', 'コーヒーブレイク'),

-- 先月のデータ（月次分析用）
(1, NULL, 1, 'プロジェクト企画', '2025-10-15 09:00:00', '2025-10-15 11:30:00', '新規案件の企画'),
(1, NULL, 4, 'システム設計', '2025-10-16 10:00:00', '2025-10-16 12:00:00', 'アーキテクチャ設計'),
(1, NULL, 5, 'テスト作業', '2025-10-17 13:00:00', '2025-10-17 16:00:00', 'E2Eテスト実施'),
(1, NULL, 2, 'コードレビュー', '2025-10-18 09:00:00', '2025-10-18 10:00:00', '定期レビュー'),
(1, NULL, 7, 'チームミーティング', '2025-10-21 14:00:00', '2025-10-21 15:00:00', '月次振り返り');